`TRUNCATE TABLE` 文は、SQLでテーブルの全データを高速かつ効率的に削除するためのコマンドです。この操作は、通常の `DELETE` 文とは異なり、各行を個別に削除するのではなく、テーブル全体のデータを一度に削除するため、非常に高速です。また、`TRUNCATE TABLE` はログの生成が最小限に抑えられるため、リソースの消費も少ないです。

### 構文
```sql
TRUNCATE TABLE テーブル名;
```

### 重要なポイント
1. **高速性**:
   - `TRUNCATE TABLE` はテーブルのデータを非常に高速に削除します。
  
2. **ログ**:
   - `TRUNCATE TABLE` は `DELETE` 文と比較して、トランザクションログへの書き込みが少なく、リソースの消費が少ないです。

3. **オートコミット**:
   - `TRUNCATE TABLE` は自動的にコミットされるため、途中でのロールバックができません。これに対して `DELETE` 文はトランザクション内で使用でき、必要に応じてロールバックが可能です。

4. **テーブル構造の保持**:
   - `TRUNCATE TABLE` はテーブルのデータを削除しますが、テーブルの構造、制約、インデックスなどは保持されます。

5. **トリガーの発火**:
   - 一部のDBMSでは、`TRUNCATE TABLE` はトリガーを発火させません。

6. **外部キー制約**:
   - テーブルに外部キー制約がある場合、`TRUNCATE TABLE` 文は使用できません。外部キーで参照されているテーブルの場合、まずその参照を解除する必要があります。

### 例
例えば、`employees` というテーブルの全データを削除する場合、以下のようにします。

```sql
TRUNCATE TABLE employees;
```

この操作により、`employees` テーブルの全データが削除されますが、テーブル自体はそのまま残ります。

### `DELETE` 文との違い
- **`DELETE`**: 
  - 条件を指定して特定の行を削除できます。
  - トランザクション内で使用可能で、ロールバックが可能です。
  - 各行の削除がログに記録されます。

- **`TRUNCATE TABLE`**:
  - テーブルの全行を一括で削除します。
  - トランザクションではなく、即座にコミットされます。
  - ログの書き込みが最小限です。

`TRUNCATE TABLE` を使用する場合は、その即時性と高速性を理解し、誤った操作を防ぐために慎重に扱う必要があります。

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
`(問題)
・TRUNCATE について正しい記述はどれですか。

`(解答)
・表に作成されている索引も同時に切り捨てられる。

`(重要)
・TRUNCATE TABLE文は表に格納されたすべての行を削除します。一部の行のみを削除することはできません
・TRUNCATE TABLE 文はDDL に分類されるため、ロールバックできません。
・TRUNCATE TABLE文を実行して切り捨てたデータをロールバック操作により取り戻すことはできません
・ごみ箱機能により復旧できる操作はDROP TABLE 文による表の削除です。
・TRUNCATE TABLE文による表の切り捨てに限った話ではありませんが、表の行データを変更すると索引のデータも併せて自動的にメンテナンスされます。
・TRUNCATE TABLE 文は表に格納されたすべての行を削除すると、索引のデータも併せて削除されます

`(NG例)
・WHERE 句で切り捨てる行を指定できる。
→　すべての行を削除するため、一部の行のみを削除することはできません

・ロールバックで切り捨てたデータを取り戻せる。
→　TRUNCATE TABLE 文はDDL に分類されるため、ロールバックできません

・ごみ箱（RECYCLEBIN）のデータを使用して切り捨てたデータを取り戻せる。
→　ごみ箱機能により復旧できる操作はDROP TABLE 文による表の削除です
