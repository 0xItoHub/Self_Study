**自動モジュール**（Automatic Modules）は、Java 9で導入されたモジュールシステムにおいて、既存のJARファイルをモジュールとして扱うための仕組みです。自動モジュールを使用すると、モジュール宣言（`module-info.java`）がない従来のJARファイルを、簡単にモジュールとして使用できるようになります。

### 自動モジュールの特徴

1. **`module-info.java`が不要**:
   - 自動モジュールは、`module-info.java`ファイルが存在しないJARファイルをモジュールとして扱います。このJARファイルがクラスパスに配置されている場合、自動的にモジュールパスに移動され、モジュールとして認識されます。

2. **モジュール名の自動推論**:
   - 自動モジュールの名前は、通常JARファイルの名前から自動的に推論されます。例えば、`library-1.0.jar`というJARファイルは、`library`という名前のモジュールとして扱われます。

3. **すべてのパッケージを公開**:
   - 自動モジュールでは、JARファイル内のすべてのパッケージが公開され、他のモジュールからアクセス可能になります。これは、モジュール宣言を持つ名前付きモジュールとは異なり、`exports`宣言を必要としないためです。

4. **依存関係の伝播**:
   - 自動モジュールが他のモジュールに依存する場合、その依存関係は自動的に伝播されます。これにより、自動モジュールを使用する他のモジュールでも、依存モジュールを使用できます。

### 自動モジュールの使用例

#### 1. プロジェクトに従来のJARファイルを追加

例えば、外部ライブラリとして`mylib.jar`をプロジェクトに追加したとします。このJARファイルには`module-info.java`が含まれていません。

```text
my-project/
├── src/
│   └── com.example.myapp/
│       ├── module-info.java
│       └── com/
│           └── example/
│               └── myapp/
│                   └── Main.java
└── lib/
    └── mylib.jar
```

#### 2. `module-info.java`で自動モジュールを指定

プロジェクトの`module-info.java`で、この自動モジュールを使用するには、`requires`キーワードで依存関係を宣言します。

```java
module com.example.myapp {
    requires mylib; // 'mylib' は 'mylib.jar' から推論されたモジュール名
}
```

#### 3. 自動モジュールを使用する

このようにして`mylib.jar`をモジュールとして使用できるようになります。

```java
package com.example.myapp;

import com.mylib.SomeClass; // 自動モジュール 'mylib' のクラスをインポート

public class Main {
    public static void main(String[] args) {
        SomeClass.doSomething();
    }
}
```

### 自動モジュールの利点

1. **互換性**:
   - 既存のライブラリをモジュール化することなく、モジュールシステムに統合できるため、既存のJARファイルをそのまま使用できます。

2. **移行の容易さ**:
   - モジュールシステムへの移行が段階的に行えます。すべての依存ライブラリがモジュールとして提供されていない場合でも、自動モジュールを使用して既存のJARファイルをそのまま利用できます。

### 自動モジュールの制約

1. **モジュール名の競合**:
   - JARファイル名からモジュール名が推論されるため、異なるバージョンの同じライブラリが同じモジュール名を持つ場合に競合が発生する可能性があります。

2. **すべてのパッケージが公開**:
   - 自動モジュールでは、JARファイル内のすべてのパッケージが公開されます。これにより、本来は内部にとどめておきたい実装が外部に公開されることがあります。

3. **名前付きモジュールとの混在**:
   - 名前付きモジュールと自動モジュールが混在すると、依存関係やアクセス制御が複雑になる可能性があります。

### まとめ

自動モジュールは、既存の非モジュール化JARファイルをモジュールとして扱うための便利な手段です。Javaのモジュールシステムへの移行を容易にし、既存のライブラリをモジュール化せずに使用することが可能です。しかし、すべてのパッケージが公開されることや、モジュール名の競合などの制約もあるため、必要に応じてモジュール化を検討することが重要です。
