`java -p`オプションは、Java 9で導入されたモジュールシステム（Java Platform Module System, JPMS）に関連する機能です。このオプションは、Javaアプリケーションを実行する際に、モジュールパスを指定するために使われます。モジュールパスは、モジュールを配置するディレクトリをJavaランタイムに知らせ、実行時にそのモジュールを読み込むことができるようにします。

### `java -p` の使い方

```bash
java -p <モジュールパス> -m <モジュール名>/<クラス名>
```

- `-p <モジュールパス>`: モジュールが配置されているディレクトリを指定します。ここで指定されたディレクトリにあるモジュールが、Javaランタイムによって認識されます。
- `-m <モジュール名>/<クラス名>`: 実行するモジュールとその中のメインクラスを指定します。モジュール名とクラス名を`/`で区切ります。

### 例

例えば、次のようなプロジェクト構造があるとします：

```
project/
├── mods/
│   └── com.example.app/
│       └── module-info.class
│       └── com/example/app/Main.class
```

このプロジェクトでは、モジュール名は `com.example.app` で、メインクラスは `com.example.app.Main` だとします。このとき、以下のコマンドでアプリケーションを実行できます：

```bash
java -p mods -m com.example.app/com.example.app.Main
```

- `-p mods`: `mods`ディレクトリをモジュールパスとして指定。
- `-m com.example.app/com.example.app.Main`: `com.example.app`モジュール内の`com.example.app.Main`クラスを実行するように指定。

### モジュールパス (`module path`) とは？

モジュールパスは、Javaがモジュールシステムで使用する新しいパス設定です。従来のクラスパス (`classpath`) が単にクラスファイルやJARファイルを指定するためのパスだったのに対し、モジュールパスはモジュール単位で管理されます。

#### モジュールパスとクラスパスの違い
- **クラスパス (`-cp` または `-classpath`)**: 単一のクラスファイルやJARファイルをJavaランタイムが読み込むためのパス。
- **モジュールパス (`-p` または `-module-path`)**: Java 9以降で導入されたモジュールシステムの一部であり、モジュールごとに整理されたパッケージの集合を管理するためのパス。

### 複数のモジュールパスを指定

複数のディレクトリにモジュールが配置されている場合、`:`（Windowsでは`;`）を使って複数のモジュールパスを指定できます。

```bash
java -p mods:external-mods -m com.example.app/com.example.app.Main
```

この例では、`mods`と`external-mods`の両方のディレクトリからモジュールを検索して、アプリケーションを実行します。

### まとめ

- `java -p` は、Javaアプリケーションをモジュールシステムで実行する際に、モジュールが存在するディレクトリを指定するために使います。
- `-m` オプションと組み合わせて、特定のモジュールとその中のクラスを実行します。
- モジュールシステムを利用することで、モジュールごとに依存関係を整理し、Javaアプリケーションの保守性とセキュリティを向上させることができます。

他にも質問があればお気軽にどうぞ！
